{% extends '::BOLayout.html.twig' %}

{% block pagewrapper %}

<div id="page-wrapper">

    <div class="row">
        <div class="col-lg-12">
            <h3 class="page-header">Comparez vos scénarios</h3>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <a href="{{ path('ffbb_poules_resultat_calcul', {'idResultat': idResultat}) }}" class="pull-right btn btn-primary ">Retour aux scénario </a>
        </div>
    </div>

    <br>
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4> Kilomètres à parcourir et temps de parcours pour vos scénarios </h4>
                </div>

                <div class="panel-body">
                    <div class="dataTable_wrapper">
                        <div class="span3">
                        <table class="table table-striped table-hover table-bordered table-fixed" id="tableDistance" >
                            <thead>

                                <tr>
                                    <th rowspan="2" style="text-align:center; vertical-align: middle; width: 20%">Equipes</th>

                                    {%  if contraintsExiste and refExiste %}
                                        <th colspan="4" style="text-align:center">Kms à parcourir</th>
                                        <th colspan="4" style="text-align:center">Temps de parcours (J H:M) </th>
                                    {%  elseif contraintsExiste and not refExiste %}
                                        <th colspan="3" style="text-align:center">Kms à parcourir</th>
                                        <th colspan="3" style="text-align:center">Temps de parcours (J H:M)</th>
                                    {%  elseif not contraintsExiste and refExiste %}
                                        <th colspan="3" style="text-align:center">Kms à parcourir</th>
                                        <th colspan="3" style="text-align:center">Temps de parcours (J H:M)</th>
                                    {% else %}
                                        <th colspan="2" style="text-align:center">Kms à parcourir</th>
                                        <th colspan="2" style="text-align:center">Temps de parcours (J H:M)</th>
                                    {%  endif %}
                                </tr>

                                <tr>
                                    {%  if contraintsExiste and refExiste %}
                                        <th style="text-align:center ; max-width: 10%;  vertical-align: middle; ">Scénario optimal</th>
                                        <th style="text-align:center ; max-width: 10%; vertical-align: middle; ">Scénario équitable</th>
                                        <th style="text-align:center ; max-width: 10% ; vertical-align: middle;">Scénario de référence</th>
                                        <th style="text-align:center ; max-width: 10% ; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; max-width: 10% ; vertical-align: middle;">Scénario optimal</th>
                                        <th style="text-align:center ; max-width: 10% ; vertical-align: middle;">Scénario équitable</th>
                                        <th style="text-align:center ; max-width: 10% ; vertical-align: middle;">Scénario de référence</th>
                                        <th style="text-align:center ; max-width: 10% ; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                    {%  elseif contraintsExiste and not refExiste %}
                                        <th style="text-align:center ; max-width: 10% ; vertical-align: middle;">Scénario optimal</th>
                                        <th style="text-align:center ; max-width: 10% ; vertical-align: middle;">Scénario équitable</th>
                                        <th style="text-align:center ; max-width: 10% ; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; max-width: 10%; vertical-align: middle;">Scénario optimal</th>
                                        <th style="text-align:center ; max-width: 10% ; vertical-align: middle;">Scénario équitable</th>
                                        <th style="text-align:center ; max-width: 10% ; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                    {%  elseif not contraintsExiste and refExiste %}
                                        <th style="text-align:center ; max-width: 10%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; max-width: 10%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                        <th style="text-align:center ; max-width: 10%; vertical-align: middle;">Scénario de référence</th>
                                        <th style="text-align:center ; max-width: 10%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; max-width: 10%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                        <th style="text-align:center ; max-width: 10%; vertical-align: middle;">Scénario de référence</th>
                                    {%  else %}
                                        <th style="text-align:center ; max-width: 10%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; max-width: 10%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                        <th style="text-align:center ; max-width: 10%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; max-width: 10%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                    {%  endif %}


                                </tr>

                            </thead>


                            <tbody>

                            {% for equipe in donneesComparison %}
                                <tr>
                                    {%  if contraintsExiste and refExiste %}
                                        <td style="text-align:center"> {{ equipe.nom }} </td>
                                        <td style="text-align:center"> {{ (equipe.distance.scenarioOptimalAvecContrainte // 1000) | number_format(0, ',', ' ') }}  </td>
                                        <td style="text-align:center"> {{ (equipe.distance.scenarioEquitableAvecContrainte // 1000) | number_format(0, ',', ' ') }}  </td>
                                        <td style="text-align:center"> {{ (equipe.distance.scenarioRef // 1000) | number_format(0, ',', ' ') }} </td>
                                        <td style="text-align:center"> {{ (equipe.distance.scenarioOptimalSansContrainte // 1000) | number_format(0, ',', ' ') }}  </td>

                                        <td style="text-align:center">
                                            {# récupérer le nbr de jour #}
                                            {% set nbrJour = (equipe.duree.scenarioOptimalAvecContrainte /86400)|round %}
                                            {% if nbrJour <10 %}
                                                {% set nbrJour = "0"~nbrJour %}
                                            {% endif %}
                                            {# récupérer le nbr d heure #}
                                            {% set nbrHeure = ((equipe.duree.scenarioOptimalAvecContrainte%86400)/3600)|round %}
                                            {% if nbrHeure <10 %}
                                                {% set nbrHeure = "0"~nbrHeure %}
                                            {% endif %}
                                            {# récupérer le nbr de minute #}
                                            {% set nbrMin = (((equipe.duree.scenarioOptimalAvecContrainte%86400)%3600)/60)|round %}
                                            {% if nbrMin <10 %}
                                                {% set nbrMin = "0"~nbrMin%}
                                            {% endif %}
                                            {{ nbrJour}} {{ nbrHeure }}:{{ nbrMin }}
                                        </td>

                                        <td style="text-align:center">
                                            {# récupérer le nbr de jour #}
                                            {% set nbrJour = (equipe.duree.scenarioEquitableAvecContrainte /86400)|round %}
                                            {% if nbrJour <10 %}
                                                {% set nbrJour = "0"~nbrJour %}
                                            {% endif %}
                                            {# récupérer le nbr d heure #}
                                            {% set nbrHeure = ((equipe.duree.scenarioEquitableAvecContrainte %86400)/3600)|round %}
                                            {% if nbrHeure <10 %}
                                                {% set nbrHeure = "0"~nbrHeure %}
                                            {% endif %}
                                            {# récupérer le nbr de minute #}
                                            {% set nbrMin = (((equipe.duree.scenarioEquitableAvecContrainte %86400)%3600)/60)|round %}
                                            {% if nbrMin <10 %}
                                                {% set nbrMin = "0"~nbrMin%}
                                            {% endif %}
                                            {{ nbrJour}} {{ nbrHeure }}:{{ nbrMin }}

                                        </td>
                                        <td style="text-align:center">
                                            {# récupérer le nbr de jour #}
                                            {% set nbrJour = (equipe.duree.scenarioRef /86400)|round %}
                                            {% if nbrJour <10 %}
                                                {% set nbrJour = "0"~nbrJour %}
                                            {% endif %}
                                            {# récupérer le nbr d heure #}
                                            {% set nbrHeure = ((equipe.duree.scenarioRef%86400)/3600)|round %}
                                            {% if nbrHeure <10 %}
                                                {% set nbrHeure = "0"~nbrHeure %}
                                            {% endif %}
                                            {# récupérer le nbr de minute #}
                                            {% set nbrMin = (((equipe.duree.scenarioRef%86400)%3600)/60)|round %}
                                            {% if nbrMin <10 %}
                                                {% set nbrMin = "0"~nbrMin%}
                                            {% endif %}
                                            {{ nbrJour}} {{ nbrHeure }}:{{ nbrMin }}

                                        </td>
                                        <td style="text-align:center">
                                            {# récupérer le nbr de jour #}
                                            {% set nbrJour = (equipe.duree.scenarioOptimalSansContrainte /86400)|round %}
                                            {% if nbrJour <10 %}
                                                {% set nbrJour = "0"~nbrJour %}
                                            {% endif %}
                                            {# récupérer le nbr d heure #}
                                            {% set nbrHeure = ((equipe.duree.scenarioOptimalSansContrainte %86400)/3600)|round %}
                                            {% if nbrHeure <10 %}
                                                {% set nbrHeure = "0"~nbrHeure %}
                                            {% endif %}
                                            {# récupérer le nbr de minute #}
                                            {% set nbrMin = (((equipe.duree.scenarioOptimalSansContrainte %86400)%3600)/60)|round %}
                                            {% if nbrMin <10 %}
                                                {% set nbrMin = "0"~nbrMin%}
                                            {% endif %}
                                            {{ nbrJour}} {{ nbrHeure }}:{{ nbrMin }}

                                        </td>

                                    {%  elseif contraintsExiste and not refExiste %}
                                        <td style="text-align:center"> {{ equipe.nom }} </td>
                                        <td style="text-align:center"> {{ (equipe.distance.scenarioOptimalAvecContrainte // 1000) | number_format(0, ',', ' ') }}  </td>
                                        <td style="text-align:center"> {{ (equipe.distance.scenarioEquitableAvecContrainte // 1000) | number_format(0, ',', ' ') }}  </td>
                                        <td style="text-align:center"> {{ (equipe.distance.scenarioOptimalSansContrainte // 1000) | number_format(0, ',', ' ') }}  </td>

                                        <td style="text-align:center">
                                            {# récupérer le nbr de jour #}
                                            {% set nbrJour = (equipe.duree.scenarioOptimalAvecContrainte /86400)|round %}
                                            {% if nbrJour <10 %}
                                                {% set nbrJour = "0"~nbrJour %}
                                            {% endif %}
                                            {# récupérer le nbr d heure #}
                                            {% set nbrHeure = ((equipe.duree.scenarioOptimalAvecContrainte%86400)/3600)|round %}
                                            {% if nbrHeure <10 %}
                                                {% set nbrHeure = "0"~nbrHeure %}
                                            {% endif %}
                                            {# récupérer le nbr de minute #}
                                            {% set nbrMin = (((equipe.duree.scenarioOptimalAvecContrainte%86400)%3600)/60)|round %}
                                            {% if nbrMin <10 %}
                                                {% set nbrMin = "0"~nbrMin%}
                                            {% endif %}
                                            {{ nbrJour}} {{ nbrHeure }}:{{ nbrMin }}
                                        </td>

                                        <td style="text-align:center">
                                            {# récupérer le nbr de jour #}
                                            {% set nbrJour = (equipe.duree.scenarioEquitableAvecContrainte /86400)|round %}
                                            {% if nbrJour <10 %}
                                                {% set nbrJour = "0"~nbrJour %}
                                            {% endif %}
                                            {# récupérer le nbr d heure #}
                                            {% set nbrHeure = ((equipe.duree.scenarioEquitableAvecContrainte %86400)/3600)|round %}
                                            {% if nbrHeure <10 %}
                                                {% set nbrHeure = "0"~nbrHeure %}
                                            {% endif %}
                                            {# récupérer le nbr de minute #}
                                            {% set nbrMin = (((equipe.duree.scenarioEquitableAvecContrainte %86400)%3600)/60)|round %}
                                            {% if nbrMin <10 %}
                                                {% set nbrMin = "0"~nbrMin%}
                                            {% endif %}
                                            {{ nbrJour}} {{ nbrHeure }}:{{ nbrMin }}

                                        </td>
                                        <td style="text-align:center">
                                            {# récupérer le nbr de jour #}
                                            {% set nbrJour = (equipe.duree.scenarioOptimalSansContrainte /86400)|round %}
                                            {% if nbrJour <10 %}
                                                {% set nbrJour = "0"~nbrJour %}
                                            {% endif %}
                                            {# récupérer le nbr d heure #}
                                            {% set nbrHeure = ((equipe.duree.scenarioOptimalSansContrainte %86400)/3600)|round %}
                                            {% if nbrHeure <10 %}
                                                {% set nbrHeure = "0"~nbrHeure %}
                                            {% endif %}
                                            {# récupérer le nbr de minute #}
                                            {% set nbrMin = (((equipe.duree.scenarioOptimalSansContrainte %86400)%3600)/60)|round %}
                                            {% if nbrMin <10 %}
                                                {% set nbrMin = "0"~nbrMin%}
                                            {% endif %}
                                            {{ nbrJour}} {{ nbrHeure }}:{{ nbrMin }}

                                        </td>

                                    {%  elseif not contraintsExiste and refExiste %}
                                        <td style="text-align:center"> {{ equipe.nom }} </td>
                                        <td style="text-align:center"> {{ (equipe.distance.scenarioOptimalSansContrainte // 1000) | number_format(0, ',', ' ') }}  </td>
                                        <td style="text-align:center"> {{ (equipe.distance.scenarioEquitableSansContrainte // 1000) | number_format(0, ',', ' ') }}  </td>
                                        <td style="text-align:center"> {{ (equipe.distance.scenarioRef // 1000) | number_format(0, ',', ' ') }} </td>

                                        <td style="text-align:center">
                                            {# récupérer le nbr de jour #}
                                            {% set nbrJour = (equipe.duree.scenarioOptimalSansContrainte /86400)|round %}
                                            {% if nbrJour <10 %}
                                                {% set nbrJour = "0"~nbrJour %}
                                            {% endif %}
                                            {# récupérer le nbr d heure #}
                                            {% set nbrHeure = ((equipe.duree.scenarioOptimalSansContrainte %86400)/3600)|round %}
                                            {% if nbrHeure <10 %}
                                                {% set nbrHeure = "0"~nbrHeure %}
                                            {% endif %}
                                            {# récupérer le nbr de minute #}
                                            {% set nbrMin = (((equipe.duree.scenarioOptimalSansContrainte %86400)%3600)/60)|round %}
                                            {% if nbrMin <10 %}
                                                {% set nbrMin = "0"~nbrMin%}
                                            {% endif %}
                                            {{ nbrJour}} {{ nbrHeure }}:{{ nbrMin }}
                                        </td>

                                        <td style="text-align:center">
                                            {# récupérer le nbr de jour #}
                                            {% set nbrJour = (equipe.duree.scenarioEquitableSansContrainte /86400)|round %}
                                            {% if nbrJour <10 %}
                                                {% set nbrJour = "0"~nbrJour %}
                                            {% endif %}
                                            {# récupérer le nbr d heure #}
                                            {% set nbrHeure = ((equipe.duree.scenarioEquitableSansContrainte  %86400)/3600)|round %}
                                            {% if nbrHeure <10 %}
                                                {% set nbrHeure = "0"~nbrHeure %}
                                            {% endif %}
                                            {# récupérer le nbr de minute #}
                                            {% set nbrMin = (((equipe.duree.scenarioEquitableSansContrainte %86400)%3600)/60)|round %}
                                            {% if nbrMin <10 %}
                                                {% set nbrMin = "0"~nbrMin%}
                                            {% endif %}
                                            {{ nbrJour}} {{ nbrHeure }}:{{ nbrMin }}

                                        </td>
                                        <td style="text-align:center">
                                            {# récupérer le nbr de jour #}
                                            {% set nbrJour = (equipe.duree.scenarioRef /86400)|round %}
                                            {% if nbrJour <10 %}
                                                {% set nbrJour = "0"~nbrJour %}
                                            {% endif %}
                                            {# récupérer le nbr d heure #}
                                            {% set nbrHeure = ((equipe.duree.scenarioRef%86400)/3600)|round %}
                                            {% if nbrHeure <10 %}
                                                {% set nbrHeure = "0"~nbrHeure %}
                                            {% endif %}
                                            {# récupérer le nbr de minute #}
                                            {% set nbrMin = (((equipe.duree.scenarioRef%86400)%3600)/60)|round %}
                                            {% if nbrMin <10 %}
                                                {% set nbrMin = "0"~nbrMin%}
                                            {% endif %}
                                            {{ nbrJour}} {{ nbrHeure }}:{{ nbrMin }}

                                        </td>

                                    {%  else %}
                                        <td style="text-align:center"> {{ equipe.nom }} </td>
                                        <td style="text-align:center"> {{ (equipe.distance.scenarioOptimalSansContrainte // 1000) | number_format(0, ',', ' ') }}  </td>
                                        <td style="text-align:center"> {{ (equipe.distance.scenarioEquitableSansContrainte // 1000) | number_format(0, ',', ' ') }}  </td>
                                        <td style="text-align:center">
                                            {# récupérer le nbr de jour #}
                                            {% set nbrJour = (equipe.duree.scenarioOptimalSansContrainte /86400)|round %}
                                            {% if nbrJour <10 %}
                                                {% set nbrJour = "0"~nbrJour %}
                                            {% endif %}
                                            {# récupérer le nbr d heure #}
                                            {% set nbrHeure = ((equipe.duree.scenarioOptimalSansContrainte %86400)/3600)|round %}
                                            {% if nbrHeure <10 %}
                                                {% set nbrHeure = "0"~nbrHeure %}
                                            {% endif %}
                                            {# récupérer le nbr de minute #}
                                            {% set nbrMin = (((equipe.duree.scenarioOptimalSansContrainte %86400)%3600)/60)|round %}
                                            {% if nbrMin <10 %}
                                                {% set nbrMin = "0"~nbrMin%}
                                            {% endif %}
                                            {{ nbrJour}} {{ nbrHeure }}:{{ nbrMin }}
                                        </td>

                                        <td style="text-align:center">
                                            {# récupérer le nbr de jour #}
                                            {% set nbrJour = (equipe.duree.scenarioEquitableSansContrainte /86400)|round %}
                                            {% if nbrJour <10 %}
                                                {% set nbrJour = "0"~nbrJour %}
                                            {% endif %}
                                            {# récupérer le nbr d heure #}
                                            {% set nbrHeure = ((equipe.duree.scenarioEquitableSansContrainte  %86400)/3600)|round %}
                                            {% if nbrHeure <10 %}
                                                {% set nbrHeure = "0"~nbrHeure %}
                                            {% endif %}
                                            {# récupérer le nbr de minute #}
                                            {% set nbrMin = (((equipe.duree.scenarioEquitableSansContrainte %86400)%3600)/60)|round %}
                                            {% if nbrMin <10 %}
                                                {% set nbrMin = "0"~nbrMin%}
                                            {% endif %}
                                            {{ nbrJour}} {{ nbrHeure }}:{{ nbrMin }}

                                        </td>

                                    {%  endif %}

                                </tr>

                            {% endfor %}

                            </tbody>

                        </table>
                        </div>


                        <div class="row">
                            <div class="col-lg-12">
                                <a class="pull-right btn btn-primary ">Exporter</a>
                            </div>
                        </div>


                    </div>
                    <!-- /.table-responsive -->
                </div>

            </div>
        </div>
    </div>

    <br>
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4> Coût du parcours</h4>
                </div>

                <div class="panel-body">
                    <div class="dataTable_wrapper">
                        <div class="span3">
                            <table class="table table-striped table-hover table-bordered table-fixed" id="tableCout" >
                                <thead>
                                <tr>

                                    <th rowspan="2" style="text-align:center; vertical-align: middle; width: 10%">Equipes</th>

                                    {%  if contraintsExiste and refExiste %}
                                        <th colspan="4" style="text-align:center ; width: 20% " >Coût du parcours en voiture (€) </th>
                                        <th colspan="4" style="text-align:center ; width: 20% ">Coût du parcours en covoiturage (€) </th>
                                        <th colspan="4" style="text-align:center ; width: 20% ">Coût du parcours en minibus (€) </th>
                                    {%  elseif contraintsExiste and not refExiste %}
                                        <th colspan="3" style="text-align:center ; width: 20%" >Coût du parcours en voiture (€) </th>
                                        <th colspan="3" style="text-align:center ; width: 20%">Coût du parcours en covoiturage (€) </th>
                                        <th colspan="3" style="text-align:center ; width: 20%">Coût du parcours en minibus (€) </th>
                                    {%  elseif not contraintsExiste and refExiste %}
                                        <th colspan="3" style="text-align:center ; width: 20%">Coût du parcours en voiture (€) </th>
                                        <th colspan="3" style="text-align:center ; width: 20%">Coût du parcours en covoiturage (€) </th>
                                        <th colspan="3" style="text-align:center ; width: 20%">Coût du parcours en minibus (€) </th>
                                    {% else %}
                                        <th colspan="2" style="text-align:center ; width: 20%">Coût du parcours en voiture (€) </th>
                                        <th colspan="2" style="text-align:center ; width: 20%">Coût du parcours en covoiturage (€) </th>
                                        <th colspan="2" style="text-align:center ; width: 20%">Coût du parcours en minibus (€) </th>
                                    {%  endif %}

                                </tr>
                                <tr>
                                    {%  if contraintsExiste and refExiste %}
                                        <th style="text-align:center ; width: 5% ;  vertical-align: middle; ">Scénario optimal</th>
                                        <th style="text-align:center ; width: 5% ;  vertical-align: middle; ">Scénario équitable</th>
                                        <th style="text-align:center ; width: 5% ; vertical-align: middle;">Scénario de référence</th>
                                        <th style="text-align:center ; width: 5% ; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario optimal</th>
                                        <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario équitable</th>
                                        <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario de référence</th>
                                        <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario optimal</th>
                                        <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario équitable</th>
                                        <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario de référence</th>
                                        <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                    {%  elseif contraintsExiste and not refExiste %}
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario équitable</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario équitable</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario équitable</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                    {%  elseif not contraintsExiste and refExiste %}
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario de référence</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario de référence</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                        <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario de référence</th>
                                    {%  else %}
                                        <th style="text-align:center ; width: 10%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; width: 10%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                        <th style="text-align:center ; width: 10%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; width: 10%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                        <th style="text-align:center ; width: 10%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        <th style="text-align:center ; width: 10%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                    {%  endif %}


                                </tr>
                                </thead>


                                <tbody>

                                {% for equipe in donneesComparison %}
                                    <tr>
                                        {%  if contraintsExiste and refExiste %}
                                            <td style="text-align:center"> {{ equipe.nom }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalAvecContrainte * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableAvecContrainte * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioRef * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalAvecContrainte/4 * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableAvecContrainte/4 * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioRef/4 * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/4 * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalAvecContrainte/9 * 1.31 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableAvecContrainte/9 * 1.31 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioRef/9 * 1.31 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/9 * 1.31 // 1000) | number_format(0, ',', ' ') }} </td>

                                        {%  elseif contraintsExiste and not refExiste %}
                                            <td style="text-align:center"> {{ equipe.nom }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalAvecContrainte * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableAvecContrainte * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalAvecContrainte/4 * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableAvecContrainte/4 * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/4 * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalAvecContrainte/9 * 1.31 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableAvecContrainte/9 * 1.31 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/9 * 1.31 // 1000) | number_format(0, ',', ' ') }} </td>

                                        {%  elseif not contraintsExiste and refExiste %}
                                            <td style="text-align:center"> {{ equipe.nom }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableSansContrainte * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioRef * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/4 * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableSansContrainte/4 * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioRef/4 * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/9 * 1.31 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableSansContrainte/9 * 1.31 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioRef/9 * 1.31 // 1000) | number_format(0, ',', ' ') }} </td>

                                        {%  else %}
                                            <td style="text-align:center"> {{ equipe.nom }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableSansContrainte * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/4 * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableSansContrainte/4 * 0.8 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/9 * 1.31 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableSansContrainte/9 * 1.31 // 1000) | number_format(0, ',', ' ') }} </td>

                                        {%  endif %}

                                    </tr>

                                {% endfor %}


                                </tbody>

                            </table>
                        </div>


                        <div class="row">
                            <div class="col-lg-12">
                                <a class="pull-right btn btn-primary ">Exporter</a>
                            </div>
                        </div>


                    </div>
                    <!-- /.table-responsive -->
                </div>

            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4> Emissions de GES</h4>
                </div>

                <div class="panel-body">
                    <div class="dataTable_wrapper">
                        <div class="span3">
                            <table class="table table-striped table-hover table-bordered table-fixed" id="tableEmission" >
                                <thead>
                                    <tr>
                                        <th rowspan="2" style="text-align:center; vertical-align: middle; width: 10%">Equipes</th>

                                        {%  if contraintsExiste and refExiste %}
                                            <th colspan="4" style="text-align:center ; width: 20% ">Emissions GES en voiture individuelle (en KG eq CO2) </th>
                                            <th colspan="4" style="text-align:center ; width: 20% ">Emissions GES en covoiturage (en KG eq CO2) </th>
                                            <th colspan="4" style="text-align:center ; width: 20% ">Emissions GES en minibus (en KG eq CO2)</th>

                                        {%  elseif contraintsExiste and not refExiste %}
                                            <th colspan="3" style="text-align:center ; width: 20% ">Emissions GES en voiture individuelle (en KG eq CO2)  </th>
                                            <th colspan="3" style="text-align:center ; width: 20% ">Emissions GES en covoiturage (en KG eq CO2) </th>
                                            <th colspan="3" style="text-align:center ; width: 20% ">Emissions GES en minibus (en KG eq CO2) </th>
                                        {%  elseif not contraintsExiste and refExiste %}
                                            <th colspan="3" style="text-align:center ; width: 20% ">Emissions GES en voiture individuelle (en KG eq CO2)  </th>
                                            <th colspan="3" style="text-align:center ; width: 20% ">Emissions GES en covoiturage (en KG eq CO2) </th>
                                            <th colspan="3" style="text-align:center ; width: 20% ">Emissions GES en minibus (en KG eq CO2)</th>
                                        {% else %}
                                            <th colspan="2" style="text-align:center ; width: 20% ">Emissions GES en voiture individuelle (en KG eq CO2)  </th>
                                            <th colspan="2" style="text-align:center ; width: 20% ">Emissions GES en covoiturage (en KG eq CO2)  </th>
                                            <th colspan="2" style="text-align:center ; width: 20% ">Emissions GES en minibus (en KG eq CO2)</th>

                                        {%  endif %}

                                    </tr>

                                    <tr>
                                        {%  if contraintsExiste and refExiste %}
                                            <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario optimal</th>
                                            <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario équitable</th>
                                            <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario de référence</th>
                                            <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                            <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario optimal</th>
                                            <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario équitable</th>
                                            <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario de référence</th>
                                            <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                            <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario optimal</th>
                                            <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario équitable</th>
                                            <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario de référence</th>
                                            <th style="text-align:center ; width: 5%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        {%  elseif contraintsExiste and not refExiste %}
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario équitable</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario équitable</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario équitable</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                        {%  elseif not contraintsExiste and refExiste %}
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario de référence</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario de référence</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                            <th style="text-align:center ; width: 6.66%; vertical-align: middle;">Scénario de référence</th>
                                        {%  else %}
                                            <th style="text-align:center ; width: 10%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                            <th style="text-align:center ; width: 10%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                            <th style="text-align:center ; width: 10%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                            <th style="text-align:center ; width: 10%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                            <th style="text-align:center ; width: 10%; vertical-align: middle;">Scénario optimal sans contrainte</th>
                                            <th style="text-align:center ; width: 10%; vertical-align: middle;">Scénario équitable sans contrainte</th>
                                        {%  endif %}

                                    </tr>

                                </thead>


                                <tbody>
                                {% for equipe in donneesComparison %}
                                    <tr>
                                        {%  if contraintsExiste and refExiste %}
                                            <td style="text-align:center"> {{ equipe.nom }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalAvecContrainte * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableAvecContrainte * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioRef * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalAvecContrainte/4 * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableAvecContrainte/4 * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioRef/4 * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/4 * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalAvecContrainte/9 * 0.185 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableAvecContrainte/9 * 0.185 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioRef/9 * 0.185 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/9 * 0.185 // 1000) | number_format(0, ',', ' ') }} </td>

                                        {%  elseif contraintsExiste and not refExiste %}
                                            <td style="text-align:center"> {{ equipe.nom }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalAvecContrainte * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableAvecContrainte * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalAvecContrainte/4 * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableAvecContrainte/4 * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/4 * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalAvecContrainte/9 * 0.185 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableAvecContrainte/9 * 0.185 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/9 * 0.185 // 1000) | number_format(0, ',', ' ') }} </td>

                                        {%  elseif not contraintsExiste and refExiste %}
                                            <td style="text-align:center"> {{ equipe.nom }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableSansContrainte * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioRef * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/4 * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableSansContrainte/4 * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioRef/4 * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/9 * 0.185 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableSansContrainte/9 * 0.185 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioRef/9 * 0.185 // 1000) | number_format(0, ',', ' ') }} </td>

                                        {%  else %}
                                            <td style="text-align:center"> {{ equipe.nom }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableSansContrainte * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/4 * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableSansContrainte/4 * 0.157 // 1000) | number_format(0, ',', ' ') }} </td>

                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioOptimalSansContrainte/9 * 0.185 // 1000) | number_format(0, ',', ' ') }} </td>
                                            <td style="text-align:center"> {{ (equipe.distanceTotale.scenarioEquitableSansContrainte/9 * 0.185 // 1000) | number_format(0, ',', ' ') }} </td>

                                        {%  endif %}

                                    </tr>

                                {% endfor %}

                                </tbody>

                            </table>
                        </div>


                        <div class="row">
                            <div class="col-lg-12">
                                <a class="pull-right btn btn-primary ">Exporter</a>
                            </div>
                        </div>


                    </div>
                    <!-- /.table-responsive -->
                </div>

            </div>
        </div>
    </div>




</div>


{% endblock %}


{% block javascripts %}
    {{ parent() }}

    <script>
    $(document).ready(function() {
        // responsive table distance
        $('#tableDistance').DataTable({
            responsive: true
        });

        // responsive table distance
        $('#tableCout').DataTable({
            responsive: true,
            "autoWidth": false
        });

        // responsive table distance
        $('#tableEmission').DataTable({
            responsive: true,
            "autoWidth": false
        });
    });

    </script>
{% endblock %}






