{% extends '::BOLayout.html.twig' %}

     {% block pagewrapper %}

         <div id="page-wrapper">

             <div class="row">
                 <div class="col-lg-12">
                     <h3 class="page-header">Choisissez vos listes </h3>
                 </div>
                 <!-- /.col-lg-12 -->
             </div>
             <!-- /.row -->

              <div class="row">
                   <div class="col-lg-12">
                        <div class="panel panel-default">

                             <div class="panel-body">
                                  <div class="row">
                                       <div class="col-lg-6">
                                            <form role="form" action="{{ path('ffbb_nouveau_groupe') }}" method="post" name="liste">

                                                <!-- /. liste participants -->
                                                <div class="form-group">

                                                    <div class="panel panel-default">
                                                        <div class="panel-heading">
                                                            Liste de participants
                                                        </div>
                                                        <!-- /.panel-heading -->
                                                        <div class="panel-body" style="height:250px !important; overflow-y: scroll">
                                                            <div class="table-responsive">
                                                                <table class="table table-hover">

                                                                    <tbody >
                                                                    {% for participant in listeParticipants %}
                                                                        <tr>
                                                                            <td><input type="radio" name="listeParticipants" id="participant~{{ participant.id }}" value="{{ participant.id }}" required>
                                                                                {{ participant.nom }}
                                                                            </td>

                                                                        </tr>
                                                                    {% endfor %}
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <!-- /.table-responsive -->
                                                        </div>
                                                        <!-- /.panel-body -->

                                                    </div>

                                                </div><!-- /.fin liste participants -->

                                                <!-- /. liste lieux -->
                                                <div class="form-group">

                                                    <div class="panel panel-default">
                                                        <div class="panel-heading">
                                                            Liste de lieux
                                                        </div>
                                                        <!-- /.panel-heading -->
                                                        <div class="panel-body" style="height:250px !important; overflow-y: scroll">
                                                            <div class="table-responsive">
                                                                <table class="table table-hover">

                                                                    <tbody>
                                                                    {% for lieu in listeLieux %}
                                                                        <tr>
                                                                            <td><input type="radio" name="listeLieux" id="participant~{{ lieu.id }}" value="{{ lieu.id }}" >
                                                                                {{ lieu.nom }}
                                                                            </td>


                                                                        </tr>
                                                                    {% endfor %}
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <!-- /.table-responsive -->
                                                        </div>
                                                        <!-- /.panel-body -->

                                                    </div>

                                                </div><!-- /. fin liste lieux -->

                                                <div class="col-lg-6">
                                                      <div class="col-lg-6"> <button type="submit" class="btn btn-default">Créer un nouveau groupe</button></div>
                                                      {# <div class="col-lg-6"> <a href="{{ path('ffbb_choisir_groupe', {'idListe': lieu.id} ) }}" class="btn btn-default pull-right"> Choisir un groupe existant</a></div>#}

                                                </div>

                                               </form>
                                           <div class="col-lg-6"> <button class="btn btn-default pull-right" onclick="getCheckedRadioValue()"> Choisir un groupe existant</button></div>



                                       </div>
                                       <!-- /.col-lg-6 (nested) -->
                                      <div class="col-lg-6">
                                          <div class="row" style="padding-right: 50px"> <a href="{{ path('ffbb_gerer_liste_participants') }}" class="btn btn-default  pull-right">Importer et gérer mes listes</a> </div>
                                          <br> <br>
                                          <div class="row" style="padding-right: 15px"> <a href="{{ asset('bundles/ffbb/telechargement/OPTIMOUV_fichiers_import.zip') }}" class="pull-right" style="font-size: small">Télécharger les formats de fichiers d'import</a> </div>


                                      </div>

                                       <!-- /.col-lg-6 (nested) -->
                                  </div>
                                  <!-- /.row (nested) -->
                             </div>
                             <!-- /.panel-body -->
                        </div>
                        <!-- /.panel -->
                   </div>
                   <!-- /.col-lg-12 -->
              </div>
             </div>
     {% endblock %}
{% block javascripts %}
    <!-- code interne dual list box -->
    <script>

        function getCheckedRadioValue() {
            //   var elements = document.getElementsByName(listeParticipants);
            var elements = document.forms.liste.listeParticipants;
            var elementsLieux = document.forms.liste.listeLieux;
            if (elements.length == undefined){
                var idListe  = elements.value;
                idListe = parseInt(idListe);
                var url = "choisir-groupe";
                var chemin = url + "/" + idListe;
                window.location.href = chemin;
                elements.checked = false;
                elementsLieux.checked = false;

            } else {
                len = elements.length;
                for (var i=0; i<len; ++i){

                    if (elements[i].checked){
                        var idListe  = elements[i].value;
                        idListe = parseInt(idListe);
                        var url = "choisir-groupe";
                        var chemin = url + "/" + idListe;
                        window.location.href = chemin;
                        elements.checked = false;
                        elementsLieux.checked = false;
                        //alert(chemin);
                    }
                }
            }


        }

    </script>
{% endblock %}






